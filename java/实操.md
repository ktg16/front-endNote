热更新

https://www.freesion.com/article/82231583688/



上传文件

https://zhuanlan.zhihu.com/p/76670928

graph LR
A(用户进入应用) --> C{检测是否有更新} //每次需要提示下次更新的内容
C --> D(需要更新)
D --> E(请求资源更新包)
E --> F(下载安装)
F --> I(下载完成重启)
F --> J(取消下载)
C -->H(不需要更新)
H-->G(正常运行)
I --> G
J --> G 

res.data.versionNum 

一对一蓝牙链接

绑定设备 存储sql

打开设备请求sql 获取蓝牙code



uniapp更新内容提醒



全局更新

[plus.runtime.version](https://www.html5plus.org/doc/zh_cn/runtime.html#plus.runtime.version)

通过[plus.runtime.getProperty](https://www.html5plus.org/doc/zh_cn/runtime.html#plus.runtime.getProperty)获取wgt资源版本

蓝牙一对一

血压测量的时候获取（点击按钮的时候）

1.获取设备型号 id

2.保存关联蓝牙设备

3.连接时，获取蓝牙设备

https://codeleading.com/article/8662603764/

https://codeleading.com/article/8662603764/

```
{
    "SDKVersion": "",
    "appId": "__UNI__06205FA",
    "appLanguage": "zh-Hans",
    "appName": "工作台",
    "appVersion": "13.8.7",
    "appVersionCode": 130807,
    "appWgtVersion": "1.0.0",
    "brand": "tablepc",
    "browserName": "chrome",
    "browserVersion": "74.0.3729.23",
    "deviceBrand": "tablepc",
    "deviceId": "0CCF00EB53C143B0D0AF65F951485332",
    "deviceModel": "tablePC",
    "deviceOrientation": "landscape",
    "devicePixelRatio": 1.25,
    "deviceType": "pad",
    "language": "zh-CN",
    "model": "tablePC",
    "oaid": "",
    "osAndroidAPILevel": 29,
    "osLanguage": "zh-CN",
    "osName": "android",
    "osTheme": "light",
    "osVersion": "10",
    "pixelRatio": 1.25,
    "platform": "android",
    "romName": "Android",
    "romVersion": "10",
    "safeArea": {
        "left": 0,
        "right": 1024,
        "top": 24,
        "bottom": 592,
        "width": 1024,
        "height": 568
    },
    "safeAreaInsets": {
        "top": 24,
        "right": 0,
        "bottom": 0,
        "left": 0
    },
    "screenHeight": 592,
    "screenWidth": 1024,
    "statusBarHeight": 24,
    "system": "Android 10",
    "ua": "Mozilla/5.0 (Linux; Android 10; tablePC Build/QP1A.190711.020; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.23 Safari/537.36 uni-app (Immersed/24.0)",
    "uniCompileVersion": "3.8.7",
    "uniPlatform": "app",
    "uniRuntimeVersion": "3.8.7",
    "version": "1.9.9.81902",
    "windowBottom": 0,
    "windowHeight": 592,
    "windowTop": 0,
    "windowWidth": 1024
}
```

边路之W

token 二十分钟获取一次

